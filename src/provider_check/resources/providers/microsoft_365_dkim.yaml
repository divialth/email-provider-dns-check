---
extends: microsoft_365
name: Microsoft 365 (+ DKIM)
version: 1
short_description: "Microsoft 365 email checks with current DKIM targets."
long_description: |
  Validates Microsoft 365 MX and SPF records, the user-supplied TXT verification
  record (MS=...) via --txt-verification, and the current DKIM CNAME targets
  that include the dynamic partition character.
variables:
  initial_domain_prefix:
    required: true
  dkim_partition:
    required: true
records:
  dkim:
    required:
      selectors:
        - selector1
        - selector2
      record_type: cname
      target_template: "{selector}-{custom_domain_dashes}._domainkey.{initial_domain_prefix}.{dkim_partition}-v1.dkim.mail.microsoft."
      txt_values: {}
