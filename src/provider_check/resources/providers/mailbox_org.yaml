---
name: mailbox.org
version: 2
short_description: "DNS records for mailbox.org custom domain email hosting"
long_description: |
  Check for mailbox.org custom-domain DNS records for MX, SPF, DKIM
  and DMARC as defined in the official mailbox.org setup guidelines.
  It also needs a user-supplied record for domain verification.
  Use this configuration when your domain is set up according to those
  mailbox.org instructions.
records:
  mx:
    required:
      - host: mxext1.mailbox.org.
      - host: mxext2.mailbox.org.
      - host: mxext3.mailbox.org.
    optional: []
  spf:
    required:
      record: "v=spf1 include:mailbox.org -all"
      includes:
        - mailbox.org
      mechanisms: []
      modifiers: {}
    optional:
      mechanisms: []
      modifiers: {}
  dkim:
    required:
      selectors:
        - MBO0001
        - MBO0002
        - MBO0003
        - MBO0004
      record_type: cname
      target_template: "{selector}._domainkey.mailbox.org."
      txt_values: {}
  cname:
    required: {}
    optional:
      autoconfig: auto.mailbox.org.
  srv:
    required: {}
    optional:
      _autodiscover._tcp:
        - priority: 0
          weight: 0
          port: 443
          target: auto.mailbox.org.
      _hkps._tcp:
        - priority: 1
          weight: 1
          port: 443
          target: pgp.mailbox.org.
  txt:
    required: {}
    optional: {}
    settings:
      # Provider requires a user-supplied TXT record for domain verification.
      # Users must provide the name/value via --txt-verification.
      verification_required: true
  dmarc:
    required:
      policy: reject
      rua:
        - mailto:postmaster@{domain}
      ruf: []
      tags: {}
    optional:
      rua: []
      ruf: []
    settings:
      rua_required: true
      ruf_required: false
